# PlatformIO Override Configuration Example for Christmas Tree Display Usermod
# Copy this file to platformio_override.ini in your WLED root directory
# Adjust the environment name to match your board

[env:lilygo_t7_s3]
; Board configuration for Lilygo T-Display S3
board = lilygo-t7-s3
platform = ${esp32s3.platform}
platform_packages = ${esp32s3.platform_packages}
upload_speed = 921600
build_unflags = ${common.build_unflags}
build_flags = ${common.build_flags} ${esp32s3.build_flags}
  -D WLED_RELEASE_NAME=\"Lilygo-T7-S3\"
  -D WLED_WATCHDOG_TIMEOUT=0
  -D ARDUINO_USB_CDC_ON_BOOT=1
  -D ARDUINO_USB_MODE=1
  -DBOARD_HAS_PSRAM
  ; Enable TFT_eSPI library
  -D USER_SETUP_LOADED=1
  -D ST7789_DRIVER=1
  -D TFT_WIDTH=170
  -D TFT_HEIGHT=320
  -D TFT_MISO=37
  -D TFT_MOSI=35
  -D TFT_SCLK=36
  -D TFT_CS=6
  -D TFT_DC=4
  -D TFT_RST=5
  -D TFT_BL=7
  -D LOAD_GLCD=1
  -D LOAD_FONT2=1
  -D LOAD_FONT4=1
  -D LOAD_FONT6=1
  -D LOAD_FONT7=1
  -D LOAD_FONT8=1
  -D LOAD_GFXFF=1
  -D SMOOTH_FONT=1
  -D SPI_FREQUENCY=40000000
  -D SPI_READ_FREQUENCY=20000000

lib_deps = ${esp32s3.lib_deps}
  ; Add TFT_eSPI library for Christmas Tree display
  TFT_eSPI

; Enable Christmas Tree Display usermod
custom_usermods = Christmas_Tree_Display

board_build.partitions = ${esp32.extreme_partitions}
board_upload.flash_size = 16MB
board_upload.maximum_size = 16777216
board_build.f_flash = 80000000L
board_build.flash_mode = qio
monitor_filters = esp32_exception_decoder

; Optional: Add other usermods
; custom_usermods = audioreactive,Christmas_Tree_Display

; Optional: Enable debug output
; build_flags = ${common.build_flags} ${esp32s3.build_flags} -D WLED_DEBUG
